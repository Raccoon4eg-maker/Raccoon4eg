<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POSTER PACKS — THE ARTBOARD</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400;1,600&family=Helvetica+Neue:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- БАЗА --- */
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none !important; }
        
        body { 
            background-color: #050505; 
            color: #e0e0e0; 
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
            overflow: hidden; 
            overscroll-behavior: none;
            touch-action: none; 
        }

        /* --- АНАЛОГОВЫЙ ШУМ (Сделал чуть плотнее для киношности) --- */
        body::after {
            content: ""; position: fixed; top: -50%; left: -50%; right: -50%; bottom: -50%;
            width: 200%; height: 200vh;
            background: transparent url('http://assets.iceable.com/img/noise-transparent.png') repeat 0 0;
            animation: bg-animation .2s infinite; opacity: 0.65; /* Было 0.55 */
            pointer-events: none; z-index: 9998; 
            mix-blend-mode: overlay; /* Лучше смешивается с темным фоном */
        }
        @keyframes bg-animation {
            0% { transform: translate(0,0) } 10% { transform: translate(-5%,-5%) }
            20% { transform: translate(-10%,5%) } 30% { transform: translate(5%,-10%) }
            40% { transform: translate(-5%,15%) } 50% { transform: translate(-10%,5%) }
            60% { transform: translate(15%,0) } 70% { transform: translate(0,15%) }
            80% { transform: translate(3%,35%) } 90% { transform: translate(-10%,10%) }
        }

        a { text-decoration: none; color: inherit; }
        .accent-font { font-family: 'Cormorant Garamond', serif; font-style: italic; font-weight: 400; text-transform: lowercase; letter-spacing: 0.02em; }

        /* --- КУРСОР "GRAB" --- */
        .custom-cursor {
            position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100000; 
            mix-blend-mode: difference; display: flex; align-items: center; justify-content: center;
            transform: translate(-50%, -50%);
        }
        .cursor-shape {
            position: absolute; width: 8px; height: 8px; background-color: #fff; transform: rotate(45deg);
            transition: width 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), height 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), 
                        background-color 0.3s, border-radius 0.3s, transform 0.3s;
        }
        .custom-cursor.hovered .cursor-shape {
            width: 50px; height: 50px; background-color: transparent; border: 1px solid rgba(255, 255, 255, 0.8); transform: rotate(90deg);
        }
        .custom-cursor.dragging .cursor-shape {
            width: 70px; height: 70px; background-color: #fff; border-radius: 50%; transform: rotate(0deg);
        }
        .cursor-text {
            opacity: 0; color: #000; font-size: 10px; font-weight: bold; letter-spacing: 0.1em;
            position: relative; z-index: 2; transition: opacity 0.2s;
        }
        .custom-cursor.dragging .cursor-text { opacity: 1; }

        /* --- СИНЕМАТИК БЛЮР --- */
        .blur-top, .blur-bottom { position: fixed; left: 0; width: 100vw; height: 22vh; z-index: 50; pointer-events: none; }
        .blur-top {
            top: 0; background: linear-gradient(to bottom, rgba(5,5,5,0.95) 0%, rgba(5,5,5,0) 100%);
            backdrop-filter: blur(8px); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 10%, rgba(0,0,0,0) 100%);
        }
        .blur-bottom {
            bottom: 0; background: linear-gradient(to top, rgba(5,5,5,0.95) 0%, rgba(5,5,5,0) 100%);
            backdrop-filter: blur(8px); -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1) 10%, rgba(0,0,0,0) 100%);
        }

        /* --- ШТОРКА ПЕРЕХОДА --- */
        .page-transition {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #050505;
            z-index: 9999; transform: translateY(0); transition: transform 0.8s cubic-bezier(0.7, 0, 0.3, 1);
        }

        /* --- UI ЭЛЕМЕНТЫ --- */
        .ui-layer {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 100; 
            pointer-events: none; display: flex; flex-direction: column; justify-content: space-between; padding: 2rem;
        }
        .ui-top { display: flex; justify-content: space-between; align-items: flex-start; text-transform: uppercase; font-size: 0.65rem; letter-spacing: 0.08em; opacity: 0.7; }
        .ui-top-left { display: flex; gap: 4rem; }
        .ui-top-left p { line-height: 1.4; }
        .magnetic-wrap { pointer-events: auto; display: inline-block; padding: 1rem; cursor: pointer; margin: -1rem; }
        .magnetic-inner { display: inline-flex; align-items: center; gap: 0.5rem; will-change: transform; transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .back-btn { font-size: 0.75rem; letter-spacing: 0.05em; border: 1px solid rgba(255,255,255,0.2); padding: 0.5rem 1rem; transition: background 0.3s, color 0.3s; }
        .back-btn:hover { background: #fff; color: #000; }
        .ui-bottom { display: flex; justify-content: space-between; align-items: flex-end; }
        .ui-title { font-size: 2vw; font-weight: bold; text-transform: uppercase; letter-spacing: -0.02em; line-height: 0.9; }
        .ui-desc { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.05em; max-width: 300px; text-align: right; opacity: 0.7; line-height: 1.4; }

        /* --- БЕСКОНЕЧНАЯ СЕТКА --- */
        #artboard { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 5; }
        
        .grid-column {
            position: absolute; top: 0; left: 0; will-change: transform;
            /* Добавляем небольшой отступ между колонками */
            padding-right: 4px; 
        }

        .grid-item {
            position: absolute; top: 0; left: 0; width: 100%;
            /* --- 1. НОВЫЕ ЖИРНЫЕ РАМКИ --- */
            border: 4px solid #0f0f0f; /* Толстая темная рамка, почти в цвет фона, но чуть светлее */
            overflow: hidden;
            will-change: transform;
            background: #050505; /* Фон внутри рамки */
            /* Небольшая тень внутрь для объема */
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8); 
        }

        .grid-item img {
            width: 100%; height: 100%; display: block; object-fit: cover;
            /* --- 3. ГЛОБАЛЬНЫЙ КИНО-ФИЛЬТР (Теплый, темный, контрастный) --- */
            filter: grayscale(40%) sepia(30%) contrast(1.2) brightness(0.6) saturate(0.8);
            
            transform: scale(1.02);
            transition: filter 0.7s ease, transform 0.7s cubic-bezier(0.2, 0.8, 0.2, 1); /* Сделали анимацию медленнее */
            user-drag: none; -webkit-user-drag: none; user-select: none; pointer-events: none;
        }
        
        .grid-item:hover { z-index: 10; border-color: #333; /* Рамка светлеет при наведении */ }
        .grid-item:hover img {
            /* При наведении фильтр ослабевает, картинка "проявляется" */
            filter: grayscale(0%) sepia(0%) contrast(1.1) brightness(1);
            transform: scale(1);
        }

        @media (max-width: 768px) {
            * { cursor: auto !important; } .custom-cursor { display: none; }
            .ui-top-left { flex-direction: column; gap: 1rem; }
            .ui-title { font-size: 6vw; }
            .ui-desc { display: none; }
            .grid-item { border-width: 2px; } /* На мобилках рамки чуть тоньше */
        }
    </style>
</head>
<body>

    <div class="custom-cursor" id="cursor">
        <div class="cursor-shape"></div>
        <span class="cursor-text">DRAG</span>
    </div>
    
    <div class="blur-top"></div>
    <div class="blur-bottom"></div>
    <div class="page-transition" id="transition"></div>

    <div class="ui-layer">
        <div class="ui-top">
            <div class="ui-top-left">
                <p>Based in Germany.<br>Working globally.</p>
                <p>Services:<br><span class="accent-font">art direction</span><br>Poster Packs<br>Identity</p>
            </div>
            <div class="magnetic-wrap" data-hoverable="true">
                <a href="index.html" class="back-btn magnetic-inner" id="backBtn">CLOSE INDEX</a>
            </div>
        </div>
        <div class="ui-bottom">
            <div class="ui-title">POSTER<br><span class="accent-font">packs™</span></div>
            <div class="ui-desc">Scroll / Drag to interact with the artboard. An infinite structured environment of aesthetics, chaos, and dark romanticism.</div>
        </div>
    </div>

    <div id="artboard"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // 1. АНИМАЦИЯ ОТКРЫТИЯ
            const transitionEl = document.getElementById('transition');
            if (transitionEl) {
                setTimeout(() => { transitionEl.style.transform = "translateY(-100%)"; }, 100);
            }

            // 2. КУРСОР
            const cursor = document.getElementById('cursor');
            document.addEventListener('mousemove', (e) => {
                if (cursor) {
                    cursor.style.left = e.clientX + 'px';
                    cursor.style.top = e.clientY + 'px';
                }
            });

            // 3. МАГНИТНАЯ КНОПКА
            const magneticContainer = document.querySelector('.magnetic-wrap');
            if (magneticContainer) {
                const magneticContent = magneticContainer.querySelector('.magnetic-inner');
                magneticContainer.addEventListener('mousemove', (e) => {
                    const rect = magneticContainer.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    if (magneticContent) magneticContent.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
                });
                magneticContainer.addEventListener('mouseleave', () => {
                    if (magneticContent) magneticContent.style.transform = `translate(0px, 0px)`;
                });
            }

            // 4. ГЕНЕРАЦИЯ СЕТКИ
            const artboard = document.getElementById('artboard');
            const images = [
                'm1.png?q=80&w=800&auto=format&fit=crop',
                '3.png?q=80&w=800&auto=format&fit=crop',
                '13.png?q=80&w=800&auto=format&fit=crop',
                'z.png?q=80&w=800&auto=format&fit=crop',
                '123123.png?q=80&w=800&auto=format&fit=crop',
                's.png?q=80&w=800&auto=format&fit=crop',
                'v.png?q=80&w=800&auto=format&fit=crop',
                'nik.jpg?q=80&w=800&auto=format&fit=crop',
                'skull1.jpeg?q=80&w=800&auto=format&fit=crop',
                'girlkin.png?q=80&w=800&auto=format&fit=crop',
                'firekin.png?q=80&w=800&auto=format&fit=crop',
                'luck.jpeg?q=80&w=800&auto=format&fit=crop',
                'petr10.png?q=80&w=800&auto=format&fit=crop',
                'model.jpg?q=80&w=800&auto=format&fit=crop',
                'fof.jpg?q=80&w=800&auto=format&fit=crop',
                'vid1.jpeg?q=80&w=800&auto=format&fit=crop',
                'end4.png?q=80&w=800&auto=format&fit=crop',
                'f3lorenoBalisay.png?q=80&w=800&auto=format&fit=crop',
                'pewar2.png?q=80&w=800&auto=format&fit=crop',
                'PEACE.png?q=80&w=800&auto=format&fit=crop',
                '1scandal.png?q=80&w=800&auto=format&fit=crop',
                'dream.png?q=80&w=800&auto=format&fit=crop',
                '222.jpg?q=80&w=800&auto=format&fit=crop',
                'd.png?q=80&w=800&auto=format&fit=crop'
            ];

            let cols = [];
            let colWidth, itemHeight, numCols, numItems, totalWidth, totalHeight;
            let imgCounter = 0;
            const speeds = [0.85, 1.2, 0.95, 1.1, 0.8, 1.25, 0.9, 1.15];

            function initGrid() {
                if (!artboard) return;
                artboard.innerHTML = '';
                cols = [];
                colWidth = window.innerWidth > 768 ? window.innerWidth * 0.25 : window.innerWidth * 0.5; 
                itemHeight = colWidth * 1.333;
                numCols = Math.ceil(window.innerWidth / colWidth) + 3; 
                numItems = Math.ceil(window.innerHeight / itemHeight) + 3;
                totalWidth = numCols * colWidth;
                totalHeight = numItems * itemHeight;

                for (let i = 0; i < numCols; i++) {
                    let colEl = document.createElement('div');
                    colEl.className = 'grid-column';
                    colEl.style.width = colWidth + 'px';
                    colEl.style.height = totalHeight + 'px';
                    let colData = { el: colEl, speed: speeds[i % speeds.length], items: [] };

                    for (let j = 0; j < numItems; j++) {
                        let itemEl = document.createElement('div');
                        itemEl.className = 'grid-item';
                        itemEl.style.height = itemHeight + 'px';
                        let img = document.createElement('img');
                        img.src = images[imgCounter % images.length];
                        imgCounter++;
                        itemEl.appendChild(img);
                        itemEl.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                        itemEl.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
                        colEl.appendChild(itemEl);
                        colData.items.push(itemEl);
                    }
                    artboard.appendChild(colEl);
                    cols.push(colData);
                }
            }

            initGrid();
            window.addEventListener('resize', initGrid);

            // 5. ФИЗИКА ДРАГА (МАСЛЯНАЯ)
            let targetX = 0, targetY = 0, currentX = 0, currentY = 0;
            let isDragging = false, lastClientX = 0, lastClientY = 0;

            window.addEventListener('mousedown', (e) => {
                isDragging = true;
                lastClientX = e.clientX; lastClientY = e.clientY;
                cursor.classList.add('dragging');
            });
            window.addEventListener('touchstart', (e) => {
                isDragging = true;
                lastClientX = e.touches[0].clientX; lastClientY = e.touches[0].clientY;
            });
            
            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                // Увеличили множитель силы "броска" с 1.5 до 2.0 для большей энергии
                targetX += (e.clientX - lastClientX) * 2.0;
                targetY += (e.clientY - lastClientY) * 2.0;
                lastClientX = e.clientX; lastClientY = e.clientY;
            });
            window.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                targetX += (e.touches[0].clientX - lastClientX) * 2.0;
                targetY += (e.touches[0].clientY - lastClientY) * 2.0;
                lastClientX = e.touches[0].clientX; lastClientY = e.touches[0].clientY;
            });
            
            window.addEventListener('mouseup', () => { isDragging = false; cursor.classList.remove('dragging'); });
            window.addEventListener('touchend', () => isDragging = false);
            
            window.addEventListener('wheel', (e) => {
                // Увеличили множитель скролла для тяжести
                targetX -= e.deltaX * 2.5;
                targetY -= e.deltaY * 2.5;
            }, { passive: true });

            function wrap(val, min, max) {
                const range = max - min;
                return ((val - min) % range + range) % range + min;
            }

            function render() {
                // --- ГЛАВНОЕ ИЗМЕНЕНИЕ ФИЗИКИ ---
                // Уменьшили коэффициент lerp с 0.06 до 0.035.
                // Это делает остановку намного более долгой и плавной (масляной).
                currentX += (targetX - currentX) * 0.035;
                currentY += (targetY - currentY) * 0.035;

                cols.forEach((col, i) => {
                    let x = wrap(i * colWidth + currentX, -colWidth, totalWidth - colWidth);
                    col.el.style.transform = `translate3d(${x}px, 0, 0)`;
                    let yOffset = currentY * col.speed;
                    col.items.forEach((item, j) => {
                        let y = wrap(j * itemHeight + yOffset, -itemHeight, totalHeight - itemHeight);
                        item.style.transform = `translate3d(0, ${y}px, 0)`;
                    });
                });
                requestAnimationFrame(render);
            }
            render();

            // 6. ЗАКРЫТИЕ
            const backBtn = document.getElementById('backBtn');
            if (backBtn) {
                backBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    transitionEl.style.transition = "transform 0.6s cubic-bezier(0.7, 0, 0.3, 1)";
                    transitionEl.style.transform = "translateY(0)";
                    setTimeout(() => { window.location.href = backBtn.getAttribute('href'); }, 600);
                });
            }
        });
    </script>
</body>

</html>
